<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Help - Drift Race</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="navbar">
        <nav class="nav-container">
            <ul class="nav-menu">
                <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="contributors.html" class="nav-link">Contributors</a></li>
                <li class="nav-item"><a href="download.html" class="nav-link">Download</a></li>
                <li class="nav-item"><a href="changelog.html" class="nav-link">Changelog</a></li>
                <li class="nav-item"><a href="help.html" class="nav-link active">Help</a></li>
            </ul>
        </nav>
    </header>

    <section class="page-header">
        <h1 class="page-title">Help & FAQ</h1>
        <p class="page-subtitle">Getting started and common questions</p>
    </section>

    <section class="help-section">
        <div class="faq-container">
            <!-- How to install & run (Installer) -->
            <div class="faq-item">
                <button class="faq-question">
                    <span class="question-text">How to install & run (Windows Installer)</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <p class="answer-text">
                        The easiest way to get started on Windows is to download and run the installer from the 
                        <a href="download.html" class="inline-link">Download</a> page.
                    </p>

                    <h4 class="answer-subtitle">Installation:</h4>
                    <ol class="answer-list">
                        <li>Download the <strong>.exe installer</strong> from the Download page</li>
                        <li>Run the installer and follow the on-screen instructions</li>
                        <li>Launch the game from the Start Menu or desktop shortcut</li>
                    </ol>

                    <h4 class="answer-subtitle">Uninstallation:</h4>
                    <p class="answer-text">
                        Run <strong>unins000.exe</strong> located in the game installation folder, or use Windows Settings → Apps.
                    </p>
                </div>
            </div>

            <!-- How to install & run (ZIP/Source) -->
            <div class="faq-item">
                <button class="faq-question">
                    <span class="question-text">How to install & run (ZIP/Source)</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <h4 class="answer-subtitle">Prerequisites:</h4>
                    <ul class="answer-list">
                        <li><strong>Windows:</strong> Python 3.11 or 3.12</li>
                        <li><strong>Linux:</strong> Python 3.11 or 3.12</li>
                    </ul>

                    <h4 class="answer-subtitle">Step 1: Download the source</h4>
                    <p class="answer-text">
                        Download the <strong>ZIP file</strong> from the <a href="download.html" class="inline-link">Download</a> page and extract it.
                    </p>

                    <h4 class="answer-subtitle">Step 2: Run the automatic setup script</h4>
                    <p class="answer-text">
                        The game includes automatic setup scripts that create a virtual environment, install dependencies, and run the game.
                    </p>

                    <p class="answer-text"><strong>Windows (PowerShell):</strong></p>
                    <div class="code-block">
                        <code class="code-comment"># Navigate to the extracted folder</code>
                        <code>cd drift_race_v<span class="version-dynamic">0.8</span></code>
                        <code></code>
                        <code class="code-comment"># Run the PowerShell script</code>
                        <code>.\run.ps1</code>
                    </div>

                    <p class="answer-text"><strong>Windows (Command Prompt):</strong></p>
                    <div class="code-block">
                        <code class="code-comment"># Navigate to the extracted folder</code>
                        <code>cd drift_race_v<span class="version-dynamic">0.8</span></code>
                        <code></code>
                        <code class="code-comment"># Run the batch script</code>
                        <code>run.bat</code>
                    </div>

                    <p class="answer-text"><strong>Linux:</strong></p>
                    <div class="code-block">
                        <code class="code-comment"># Navigate to the extracted folder</code>
                        <code>cd drift_race_v<span class="version-dynamic">0.8</span></code>
                        <code></code>
                        <code class="code-comment"># Make the script executable (first time only)</code>
                        <code>chmod +x run.sh</code>
                        <code></code>
                        <code class="code-comment"># Run the shell script</code>
                        <code>./run.sh</code>
                    </div>

                    <p class="answer-note">
                        <strong>What the script does:</strong>
                        <ul class="answer-list">
                            <li>Checks if a <strong>.venv</strong> folder exists; if not, creates a new virtual environment</li>
                            <li>Activates the virtual environment automatically</li>
                            <li>Installs all required dependencies from <strong>requirements.txt</strong></li>
                            <li>Launches the game</li>
                        </ul>
                    </p>

                    <p class="answer-note">
                        <strong>Next time:</strong> Just run the same script again. It will reuse the existing virtual environment 
                        and launch the game directly without reinstalling dependencies.
                    </p>

                    <h4 class="answer-subtitle">Manual setup (advanced users):</h4>
                    <p class="answer-text">If you prefer to set up manually:</p>

                    <p class="answer-text"><strong>Windows:</strong></p>
                    <div class="code-block">
                        <code>python -m venv .venv</code>
                        <code>.\.venv\Scripts\Activate.ps1</code>
                        <code>pip install -r requirements.txt</code>
                        <code>python -m drift</code>
                    </div>

                    <p class="answer-text"><strong>Linux:</strong></p>
                    <div class="code-block">
                        <code>python3 -m venv .venv</code>
                        <code>source .venv/bin/activate</code>
                        <code>pip install -r requirements.txt</code>
                        <code>python -m drift</code>
                    </div>

                    <h4 class="answer-subtitle">Multiplayer from command line:</h4>
                    <p class="answer-text"><strong>Host a room:</strong></p>
                    <div class="code-block">
                        <code>python -m drift.app --mode host --code ABCD --name YourName</code>
                    </div>

                    <p class="answer-text"><strong>Join a room:</strong></p>
                    <div class="code-block">
                        <code>python -m drift.app --mode join --code ABCD --name YourName</code>
                    </div>

                    <p class="answer-note">
                        <strong>Troubleshooting:</strong> If Pygame-CE fails to install, update pip first:
                    </p>
                    <div class="code-block">
                        <code>python -m pip install --upgrade pip</code>
                        <code>pip install -r requirements.txt</code>
                    </div>
                </div>
            </div>

            <!-- How to play -->
            <div class="faq-item">
                <button class="faq-question">
                    <span class="question-text">How to play</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <h4 class="answer-subtitle">Driving:</h4>
                    <div class="controls-grid">
                        <div class="control-item">
                            <strong>Up / Z</strong>
                            <span>Accelerate</span>
                        </div>
                        <div class="control-item">
                            <strong>Down / S</strong>
                            <span>Reverse</span>
                        </div>
                        <div class="control-item">
                            <strong>Left / Q</strong>
                            <span>Steer left</span>
                        </div>
                        <div class="control-item">
                            <strong>Right / D</strong>
                            <span>Steer right</span>
                        </div>
                        <div class="control-item">
                            <strong>Space</strong>
                            <span>Handbrake</span>
                        </div>
                        <div class="control-item">
                            <strong>R</strong>
                            <span>Reset your car</span>
                        </div>
                        <div class="control-item">
                            <strong>L</strong>
                            <span>Headlights on/off</span>
                        </div>
                        <div class="control-item">
                            <strong>C</strong>
                            <span>Cycle car type</span>
                        </div>
                        <div class="control-item">
                            <strong>Esc</strong>
                            <span>Open Settings</span>
                        </div>
                    </div>

                    <h4 class="answer-subtitle">Gameplay tips:</h4>
                    <ul class="answer-list">
                        <li>Drifting is about balancing throttle and steering — too much angle, scrub speed; too little, straighten out.</li>
                        <li>Handbrake can help initiate a drift, but throttle modulation keeps it going.</li>
                        <li>Tire marks start smoky and fade toward rubber to show your line.</li>
                        <li>Mouse wheel to zoom, middle-mouse drag to pan the camera.</li>
                    </ul>

                    <h4 class="answer-subtitle">AI and Multiplayer:</h4>
                    <ul class="answer-list">
                        <li><strong>N</strong> — spawn an AI (host only)</li>
                        <li>In multiplayer, share the room code for others to join.</li>
                    </ul>

                    <h4 class="answer-subtitle">Debug & Performance:</h4>
                    <ul class="answer-list">
                        <li><strong>F3</strong> — toggle debug overlays. When OFF, the game skips debug calculations for better FPS.</li>
                        <li>FPS and Debug status are shown in the top-right.</li>
                    </ul>
                </div>
            </div>

            <!-- How to uninstall / clean up -->
            <div class="faq-item">
                <button class="faq-question">
                    <span class="question-text">How to uninstall / clean up</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <h4 class="answer-subtitle">If you installed via the Windows Installer:</h4>
                    <p class="answer-text">
                        Run <strong>unins000.exe</strong> located in the game installation folder, or use Windows Settings → Apps to uninstall.
                    </p>

                    <h4 class="answer-subtitle">If you downloaded the ZIP/source version:</h4>
                    <p class="answer-text">
                        Simply delete the entire game folder. The virtual environment and all dependencies are contained within 
                        the <strong>.venv</strong> folder, so no system-wide cleanup is needed.
                    </p>
                </div>
            </div>

            <!-- Low FPS? -->
            <div class="faq-item">
                <button class="faq-question">
                    <span class="question-text">Low FPS / Performance Issues?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <h4 class="answer-subtitle">1. Make sure pygame-ce is installed (not regular pygame)</h4>
                    <p class="answer-text">
                        Drift Race requires <strong>pygame-ce</strong> (Community Edition) for optimal performance. 
                        Regular pygame may cause significantly lower FPS.
                    </p>
                    <div class="code-block">
                        <code class="code-comment"># Uninstall regular pygame first</code>
                        <code>pip uninstall pygame</code>
                        <code></code>
                        <code class="code-comment"># Install pygame-ce</code>
                        <code>pip install pygame-ce</code>
                    </div>

                    <h4 class="answer-subtitle">2. Use the automatic run scripts</h4>
                    <p class="answer-text">
                        If you downloaded the ZIP/source version, use the provided run scripts (<strong>run.ps1</strong>, <strong>run.bat</strong>, or <strong>run.sh</strong>) 
                        which automatically handle the virtual environment setup and activation.
                    </p>

                    <h4 class="answer-subtitle">3. Verify your installation</h4>
                    <p class="answer-text"><strong>Windows:</strong></p>
                    <div class="code-block">
                        <code class="code-comment"># Check which pygame version is installed</code>
                        <code>pip list | Select-String pygame</code>
                        <code></code>
                        <code class="code-comment"># Should show: pygame-ce (not pygame)</code>
                    </div>

                    <p class="answer-text"><strong>Linux:</strong></p>
                    <div class="code-block">
                        <code class="code-comment"># Check which pygame version is installed</code>
                        <code>pip list | grep pygame</code>
                        <code></code>
                        <code class="code-comment"># Should show: pygame-ce (not pygame)</code>
                    </div>

                    <h4 class="answer-subtitle">Additional performance tips:</h4>
                    <ul class="answer-list">
                        <li>Disable debug mode by pressing <strong>F3</strong> (debug calculations can impact FPS)</li>
                        <li>Turn off headlights with <strong>L</strong> if not needed</li>
                        <li>Limit the number of AI cars spawned</li>
                        <li>Close other applications to free up system resources</li>
                        <li>Update your graphics drivers to the latest version</li>
                    </ul>

                    <p class="answer-note">
                        <strong>Note:</strong> If you're still experiencing issues after these steps, make sure you have Python 3.11 or 3.12 installed, 
                        and that all requirements from requirements.txt are properly installed in your virtual environment.
                    </p>
                </div>
            </div>

            <!-- Can't activate venv? -->
            <div class="faq-item">
                <button class="faq-question">
                    <span class="question-text">Can't activate venv?</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <p class="answer-text">
                        If you're having trouble activating the virtual environment manually, the easiest solution is to use 
                        the provided automatic run scripts (<strong>run.ps1</strong>, <strong>run.bat</strong>, or <strong>run.sh</strong>) 
                        which handle everything for you.
                    </p>

                    <h4 class="answer-subtitle">Alternative: Run commands directly</h4>
                    <p class="answer-text">
                        You can also run commands directly using the full path to the Python and pip executables inside the venv.
                    </p>

                    <h4 class="answer-subtitle">Windows (PowerShell / CMD):</h4>
                    <div class="code-block">
                        <code class="code-comment"># Install packages</code>
                        <code>.\.venv\Scripts\pip.exe install -r requirements.txt</code>
                        <code></code>
                        <code class="code-comment"># Run the game</code>
                        <code>.\.venv\Scripts\python.exe -m drift</code>
                    </div>

                    <h4 class="answer-subtitle">Linux:</h4>
                    <div class="code-block">
                        <code class="code-comment"># Install packages</code>
                        <code>.venv/bin/pip install -r requirements.txt</code>
                        <code></code>
                        <code class="code-comment"># Run the game</code>
                        <code>.venv/bin/python -m drift</code>
                    </div>

                    <p class="answer-note">
                        <strong>Note:</strong> On some Linux systems, the executables might be named <strong>python3</strong> and <strong>pip3</strong> 
                        instead of <strong>python</strong> and <strong>pip</strong>. If one doesn't work, try the other.
                    </p>

                    <h4 class="answer-subtitle">Why use a virtual environment?</h4>
                    <ul class="answer-list">
                        <li>Keeps project dependencies isolated from system Python</li>
                        <li>Prevents version conflicts with other Python projects</li>
                        <li>Makes it easier to manage and reproduce the exact environment</li>
                        <li>Allows different projects to use different package versions</li>
                    </ul>
                </div>
            </div>

            <!-- Troubleshooting -->
            <div class="faq-item">
                <button class="faq-question">
                    <span class="question-text">Troubleshooting</span>
                    <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <ul class="answer-list">
                        <li><strong>Pygame-CE install issues:</strong> Update pip, ensure Python 3.11/3.12, then reinstall requirements.</li>
                        <li><strong>No audio or errors at startup:</strong> The game auto-falls back to simpler audio settings; if all fail, audio is disabled.</li>
                        <li><strong>Performance on low-end PCs:</strong> Disable debug (F3), keep lights off (L), and avoid spawning many AI cars.</li>
                    </ul>
                </div>
            </div>

        </div>
    </section>

    <script src="config.js"></script>
    <script src="script.js"></script>
    <script src="help.js"></script>
    <script>
        // Update version numbers dynamically
        document.addEventListener('DOMContentLoaded', function() {
            const versionElements = document.querySelectorAll('.version-dynamic');
            versionElements.forEach(element => {
                element.textContent = DRIFT_CONFIG.version;
            });
        });
    </script>
</body>
</html>
